<div class="relative h-full w-full overflow-hidden">
  <!-- Refresh indicator area -->
  <div class="absolute top-0 left-0 right-0 h-20 flex items-center justify-center -z-10 pointer-events-none">
    <div class="transition-opacity duration-200" [style.opacity]="iconOpacity()">
      @if(isRefreshing()) {
        <!-- Spinner when refreshing -->
        <svg class="animate-spin h-7 w-7 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      } @else {
        <!-- Arrow icon when pulling -->
        <svg class="h-7 w-7 text-gray-500 transition-transform" [style.transform]="iconTransform()" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.181-3.183m-4.991-2.691L7.98 12.01M2.985 4.356v4.992m0 0h4.992m-4.993 0l3.181-3.183a8.25 8.25 0 0111.664 0l3.181 3.183" />
        </svg>
      }
    </div>
  </div>

  <!-- Content projected here. This is the div that will move. -->
  <div [style]="wrapperStyle()" class="h-full w-full">
    <ng-content></ng-content>
  </div>
</div>
