
<div>
  <h1 class="text-3xl font-bold mb-6">{{ isEditMode ? 'Edit Product' : 'Add New Product' }}</h1>
  
  <form [formGroup]="productForm" (ngSubmit)="saveProduct()" class="bg-white p-6 rounded-lg shadow space-y-6">
    <!-- Basic Info -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <input formControlName="name" type="text" placeholder="Product Name" class="w-full px-4 py-2 border rounded-md">
      <input formControlName="brand" type="text" placeholder="Brand" class="w-full px-4 py-2 border rounded-md">
    </div>

    <!-- Pricing & Rating -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <input formControlName="price" type="number" placeholder="Selling Price" class="w-full px-4 py-2 border rounded-md">
      <input formControlName="originalPrice" type="number" placeholder="Original Price (MRP)" class="w-full px-4 py-2 border rounded-md">
      <select formControlName="category" class="w-full px-4 py-2 border rounded-md bg-white">
        <option value="Men">Men</option>
        <option value="Women">Women</option>
        <option value="Kids">Kids</option>
      </select>
    </div>
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <input formControlName="rating" type="number" step="0.1" placeholder="Rating (e.g., 4.5)" class="w-full px-4 py-2 border rounded-md">
        <input formControlName="reviews" type="number" placeholder="Reviews Count (e.g., 1200)" class="w-full px-4 py-2 border rounded-md">
    </div>

    <!-- Images -->
    <div formArrayName="images">
      <h3 class="font-semibold mb-2">Images (URLs)</h3>
      @for(image of images.controls; track $index) {
        <div class="flex items-center mb-2">
          <input [formControlName]="$index" type="text" placeholder="https://..." class="w-full px-4 py-2 border rounded-md">
          <button type="button" (click)="removeImage($index)" class="ml-2 text-red-500">Remove</button>
        </div>
      }
      <button type="button" (click)="addImage()" class="text-sm text-pink-600 font-semibold">+ Add Image</button>
    </div>

     <!-- Sizes -->
    <div formArrayName="sizes">
      <h3 class="font-semibold mb-2">Sizes & Stock</h3>
      @for(sizeGroup of sizes.controls; track $index) {
        <div [formGroupName]="$index" class="flex items-center space-x-4 mb-2 p-2 bg-gray-50 rounded">
          <input formControlName="name" type="text" placeholder="e.g., M, L, 10" class="w-1/3 px-4 py-2 border rounded-md">
          <label class="flex items-center">
            <input formControlName="inStock" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-pink-600">
            <span class="ml-2">In Stock</span>
          </label>
          <button type="button" (click)="removeSize($index)" class="ml-auto text-red-500">Remove</button>
        </div>
      }
      <button type="button" (click)="addSize()" class="text-sm text-pink-600 font-semibold">+ Add Size</button>
    </div>

    <!-- Details -->
    <div formArrayName="details">
      <h3 class="font-semibold mb-2">Product Details</h3>
       @for(detail of details.controls; track $index) {
        <div class="flex items-center mb-2">
          <input [formControlName]="$index" type="text" placeholder="e.g., 100% Cotton" class="w-full px-4 py-2 border rounded-md">
          <button type="button" (click)="removeDetail($index)" class="ml-2 text-red-500">Remove</button>
        </div>
      }
      <button type="button" (click)="addDetail()" class="text-sm text-pink-600 font-semibold">+ Add Detail</button>
    </div>
    
    <!-- Actions -->
    <div class="flex justify-end space-x-4 pt-6 border-t">
      <button type="button" (click)="cancel()" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300">
        Cancel
      </button>
      <button type="submit" [disabled]="productForm.invalid" class="bg-pink-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-pink-700 disabled:bg-gray-300">
        Save Product
      </button>
    </div>
  </form>
</div>
